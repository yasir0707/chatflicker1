{"ast":null,"code":"import { BehaviorSubject } from 'rxjs';\nimport { MatButtonModule } from '@angular/material/button';\nimport { HttpHeaders } from '@angular/common/http';\nimport { FileUploader } from 'ng2-file-upload';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@ng-bootstrap/ng-bootstrap\";\nimport * as i2 from \"../service/register.service\";\nimport * as i3 from \"../service/chat.service\";\nimport * as i4 from \"@angular/material/dialog\";\nimport * as i5 from \"@angular/common/http\";\nimport * as i6 from \"@angular/router\";\nimport * as i7 from \"@angular/common\";\nimport * as i8 from \"@angular/material/card\";\nimport * as i9 from \"@angular/material/icon\";\nimport * as i10 from \"@angular/material/chips\";\nimport * as i11 from \"@angular/forms\";\nimport * as i12 from \"@angular/material/button\";\nimport * as i13 from \"@angular/material/form-field\";\nimport * as i14 from \"@angular/material/badge\";\nimport * as i15 from \"ng2-file-upload\";\n\nfunction AdminShowComponent_ng_template_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33);\n    i0.ɵɵelement(1, \"div\", 40);\n    i0.ɵɵelementStart(2, \"div\", 40);\n    i0.ɵɵelementStart(3, \"div\", 41);\n    i0.ɵɵelement(4, \"div\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 40);\n    i0.ɵɵelementStart(6, \"button\", 43);\n    i0.ɵɵtext(7, \"Upload\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"button\", 44);\n    i0.ɵɵtext(9, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminShowComponent_ng_template_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"form\", 18, 19);\n    i0.ɵɵlistener(\"ngSubmit\", function AdminShowComponent_ng_template_1_Template_form_ngSubmit_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n\n      const _r8 = i0.ɵɵreference(1);\n\n      const ctx_r10 = i0.ɵɵnextContext();\n      return ctx_r10.onSubmit1(_r8);\n    });\n    i0.ɵɵelementStart(2, \"div\", 28);\n    i0.ɵɵelementStart(3, \"h4\", 29);\n    i0.ɵɵtext(4, \"Modal title\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"button\", 30);\n    i0.ɵɵlistener(\"click\", function AdminShowComponent_ng_template_1_Template_button_click_5_listener() {\n      const modal_r7 = ctx.$implicit;\n      return modal_r7.dismiss(\"Cross click\");\n    });\n    i0.ɵɵelementStart(6, \"span\", 31);\n    i0.ɵɵtext(7, \"\\u00D7\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"div\", 32);\n    i0.ɵɵelementStart(9, \"div\", 33);\n    i0.ɵɵelementStart(10, \"div\", 34);\n    i0.ɵɵtemplate(11, AdminShowComponent_ng_template_1_div_11_Template, 10, 0, \"div\", 35);\n    i0.ɵɵelementStart(12, \"div\");\n    i0.ɵɵelementStart(13, \"input\", 36);\n    i0.ɵɵlistener(\"change\", function AdminShowComponent_ng_template_1_Template_input_change_13_listener($event) {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r13 = i0.ɵɵnextContext();\n      return ctx_r13.selectMultiple($event);\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"br\");\n    i0.ɵɵelement(15, \"input\", 37);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"div\", 38);\n    i0.ɵɵelementStart(17, \"button\", 39);\n    i0.ɵɵtext(18, \" send \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminShowComponent_tr_13_td_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r19 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelementStart(1, \"button\", 46);\n    i0.ɵɵlistener(\"click\", function AdminShowComponent_tr_13_td_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const ctx_r18 = i0.ɵɵnextContext(2);\n      return ctx_r18.admin_chat = !ctx_r18.admin_chat;\n    })(\"click\", function AdminShowComponent_tr_13_td_5_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r19);\n      const e_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r20 = i0.ɵɵnextContext();\n      return ctx_r20.chat(e_r14);\n    });\n    i0.ɵɵtext(2, \"Chat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const e_r14 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵpropertyInterpolate(\"matBadge\", e_r14.user_msg_status);\n  }\n}\n\nfunction AdminShowComponent_tr_13_td_6_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r24 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"td\");\n    i0.ɵɵelementStart(1, \"button\", 47);\n    i0.ɵɵlistener(\"click\", function AdminShowComponent_tr_13_td_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const ctx_r23 = i0.ɵɵnextContext(2);\n      return ctx_r23.admin_chat = !ctx_r23.admin_chat;\n    })(\"click\", function AdminShowComponent_tr_13_td_6_Template_button_click_1_listener() {\n      i0.ɵɵrestoreView(_r24);\n      const e_r14 = i0.ɵɵnextContext().$implicit;\n      const ctx_r25 = i0.ɵɵnextContext();\n      return ctx_r25.chat(e_r14);\n    });\n    i0.ɵɵtext(2, \"Chat\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminShowComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\");\n    i0.ɵɵelementStart(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, AdminShowComponent_tr_13_td_5_Template, 3, 1, \"td\", 45);\n    i0.ɵɵtemplate(6, AdminShowComponent_tr_13_td_6_Template, 3, 0, \"td\", 45);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const e_r14 = ctx.$implicit;\n    const i_r15 = ctx.index;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i_r15 + 1);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(e_r14.useremail);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", e_r14.user_msg_status != 0);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", e_r14.user_msg_status == 0);\n  }\n}\n\nfunction AdminShowComponent_p_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 48);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.username);\n  }\n}\n\nfunction AdminShowComponent_p_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\", 48);\n    i0.ɵɵtext(1, \"Unknown\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AdminShowComponent_div_34_mat_chip_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-chip\", 52);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const e_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(e_r27.user_msg);\n  }\n}\n\nfunction AdminShowComponent_div_34_mat_chip_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r36 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-chip\", 53);\n    i0.ɵɵlistener(\"click\", function AdminShowComponent_div_34_mat_chip_3_Template_mat_chip_click_0_listener() {\n      i0.ɵɵrestoreView(_r36);\n      const e_r27 = i0.ɵɵnextContext().$implicit;\n      const ctx_r34 = i0.ɵɵnextContext();\n      return ctx_r34.download(e_r27.user_filename);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const e_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(e_r27.user_originalname);\n  }\n}\n\nfunction AdminShowComponent_div_34_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵelementStart(1, \"mat-chip\", 55);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const e_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(e_r27.admin_msg);\n  }\n}\n\nfunction AdminShowComponent_div_34_div_5_mat_chip_2_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r42 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"mat-chip\", 57);\n    i0.ɵɵlistener(\"click\", function AdminShowComponent_div_34_div_5_mat_chip_2_Template_mat_chip_click_0_listener() {\n      i0.ɵɵrestoreView(_r42);\n      const e_r27 = i0.ɵɵnextContext(2).$implicit;\n      const ctx_r40 = i0.ɵɵnextContext();\n      return ctx_r40.download(e_r27.admin_filename);\n    });\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const e_r27 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(e_r27.admin_originalname);\n  }\n}\n\nfunction AdminShowComponent_div_34_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 54);\n    i0.ɵɵelementStart(1, \"a\");\n    i0.ɵɵtemplate(2, AdminShowComponent_div_34_div_5_mat_chip_2_Template, 2, 1, \"mat-chip\", 56);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const e_r27 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", e_r27.admin_originalname != null && e_r27.admin_originalname);\n  }\n}\n\nfunction AdminShowComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtemplate(1, AdminShowComponent_div_34_mat_chip_1_Template, 2, 1, \"mat-chip\", 49);\n    i0.ɵɵelementStart(2, \"a\");\n    i0.ɵɵtemplate(3, AdminShowComponent_div_34_mat_chip_3_Template, 2, 1, \"mat-chip\", 50);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, AdminShowComponent_div_34_div_4_Template, 3, 1, \"div\", 51);\n    i0.ɵɵtemplate(5, AdminShowComponent_div_34_div_5_Template, 3, 1, \"div\", 51);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const e_r27 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", e_r27.user_msg != null && e_r27.user_msg != ctx_r5.emp_msg);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", e_r27.user_originalname != null && e_r27.user_originalname);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", e_r27.admin_msg != null && e_r27.admin_msg);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", e_r27.admin_filename != null && e_r27.admin_filename);\n  }\n}\n\nfunction dialogBox_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelementStart(1, \"div\", 13);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 13);\n    i0.ɵɵelementStart(4, \"div\", 14);\n    i0.ɵɵelement(5, \"div\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"div\", 13);\n    i0.ɵɵelementStart(7, \"button\", 16);\n    i0.ɵɵtext(8, \"Upload\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"button\", 17);\n    i0.ɵɵtext(10, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(item_r2.file.name);\n  }\n}\n\nexport let AdminShowComponent = /*#__PURE__*/(() => {\n  class AdminShowComponent {\n    constructor(modalService, RegServices, ChatServices, dialog, http, router) {\n      this.modalService = modalService;\n      this.RegServices = RegServices;\n      this.ChatServices = ChatServices;\n      this.dialog = dialog;\n      this.http = http;\n      this.router = router;\n      this.admin_chat = true;\n      this.emp_msg = \"\";\n      this.Reg = [];\n      this.display = \"none\";\n      this.closeResult = '';\n      this.usr_notify = 0;\n      this.refresh_User$ = new BehaviorSubject(true);\n      this.headers = new HttpHeaders();\n\n      this.router.routeReuseStrategy.shouldReuseRoute = () => false;\n    } // openDialog() {\n    //   this.dialog.open(dialogBox);\n    // }\n\n\n    openVerticallyCentered(content) {\n      this.modalService.open(content, {\n        centered: true\n      });\n    }\n\n    chat_status() {} // Image Select\n\n\n    selectImage(event) {\n      if (event.target.files.length > 0) {\n        const file = event.target.files[0];\n        this.image_name = file; // console.log(file);\n      }\n    }\n\n    download(e) {\n      // console.log('download ',e)\n      // let headers= new HttpHeaders({'Content-Type': 'application/x-www-form-urlencoded', type: 'image/jpeg', responseType : 'image/jpeg'});\n      // const httpOptions = {\n      //   headers: headers\n      // };\n      const formData = new FormData();\n      formData.append('img', e);\n      this.http.post('http://localhost:3000/chat/read/' + e, formData).subscribe(res => {\n        this.downImg = res;\n        this.showImg = this.downImg.path;\n        console.log(this.showImg); //  this.downImg = res\n        // window.location.href = this.downImg.img;\n\n        window.open(this.showImg, '_blank'); // saveAs(this.downImg.img)\n        // console.log(this.downImg.img)\n      });\n    } // Chat Submit\n\n\n    onSubmit(form) {\n      // console.log(\"admin msg status\"+this.admin_msg_st)\n      this.saveChat = {\n        adminmsg: form.value.adminmsg,\n        file: this.image_name,\n        id: this.user_id,\n        admin_token: this.Admin_TK,\n        admin_msg_status: this.admin_msg_st = this.admin_msg_st + 1,\n        adminemail: this.str,\n        //  usermsg:this.user_text,\n        useremail: this.user_email\n      };\n      form.value.userid = this.user_id; // console.log(this.saveChat)\n\n      if (form.value['adminmsg']) {\n        form.value['adminmsg'] = null;\n        this.ChatServices.PostUser(this.saveChat).subscribe(data => {// console.log(data)\n        }, err => {\n          console.log(err);\n        });\n      }\n\n      form.reset(); // console.log(this.saveChat)\n      // console.log(JSON.stringify(form.value))\n    }\n\n    selectMultiple(event) {\n      if (event.target.files.length > 0) {\n        this.multiple_img = event.target.files; // console.log(this.multiple_img)\n      }\n    }\n\n    onSubmit1(form) {\n      this.ngOnInit();\n      const formData = new FormData();\n\n      if (this.multiple_img) {\n        // console.log(this.multiple_img,'Multiple img')\n        for (let img of this.multiple_img) {\n          formData.append('admin_files', img);\n        }\n\n        formData.append('admin_token', this.Admin_TK);\n        formData.append('adminmsg', form.value.adminmsg1);\n        formData.append('id', this.user_id);\n        formData.append('useremail', this.user_email); // formData.append('usermsg',this.user_text)\n\n        formData.append('adminemail', this.str);\n        this.http.post('http://localhost:3000/chat/multiple', formData).subscribe(res => {// console.log('multiple',res)\n        });\n        form.reset();\n      } else {\n        formData.append('admin_token', this.Admin_TK);\n        formData.append('file', this.image_name);\n        formData.append('adminmsg', form.value.adminmsg);\n        formData.append('userid', this.user_id);\n        formData.append('useremail', this.user_email); // formData.append('usermsg',this.user_text)\n\n        formData.append('adminemail', this.str);\n        this.http.post('http://localhost:3000/chat/', formData).subscribe(res => {// console.log(res)\n        });\n        form.reset();\n      } // console.log(form.value.imgName)\n      // this.saveChat ={\n      //   adminmsg :  form.value.adminmsg,\n      //   file:this.image_name,\n      //   userid: this.user_id,\n      //  adminemail :this.str,\n      // //  usermsg:this.user_text,\n      //  useremail:this.user_email\n      // }\n      //   form.value.userid= this.user_id\n      //   console.log(this.saveChat)\n      //   if(form.value.adminmsg){\n      //     form.value.adminmsg = \"\"\n      //   this.ChatServices.PostUser(this.saveChat).subscribe((data:any)=>{\n      //       console.log(data)\n      //   },  (err)=>{console.log(err)})\n      // }\n      // console.log(this.saveChat)\n      // console.log(JSON.stringify(form.value))\n      // this.getChat()\n\n    }\n\n    ngOnInit() {\n      this.str = localStorage.getItem('email');\n      this.Admin_TK = localStorage.getItem('Admin_T');\n      console.log(this.Admin_TK);\n      setTimeout(() => {\n        this.ngOnInit();\n      }, 1000);\n      this.getChatData();\n      this.chat(this.StoreUserData);\n    }\n\n    getChatData() {\n      this.ChatServices.getAdminChat().subscribe(data => {\n        this.Reg = data;\n        console.log(data);\n      });\n    }\n\n    ngAfterViewChecked() {// this.ngOnInit()\n    }\n\n    update(e, id) {\n      this.UpdateId = id;\n    }\n\n    Delete(id) {\n      this.ChatServices.DeleteChat(id).subscribe(data => {}); // window.location.reload()\n    }\n\n    chat(e) {\n      console.log(e);\n      this.StoreUserData = e;\n      this.user_email = e.useremail;\n      this.user_text = e.usermsg;\n      this.user_id = e._id;\n      this.userid = e._id;\n      this.username = e.username;\n      this.adminemail = this.str; // this.admin_chat =false\n\n      this.admin_msg_st = e.admin_msg_status;\n      var data = this.Reg.filter(x => x.useremail == this.user_email);\n      console.log('data', data);\n      this.user_msg1 = data[0].msg;\n      var usr_status = data.filter(x => x.user_msg_status = \"0\"); // User Status\n      // console.log(this.user_id)\n\n      const formData = new FormData();\n      formData.append(\"id\", this.user_id);\n      this.ChatServices.PostUserStatus(formData, this.user_id).subscribe(data => {// console.log(data)\n      });\n      this.usr_notify = 0;\n\n      for (this.i = 0; this.i <= data.length; this.i++) {\n        if (data[0].user_msg_status == 0) {\n          this.usr_notify += 1; // console.log(this.usr_notify)\n        } //  console.log('data',data[0].user_msg_status)\n\n      }\n    }\n\n  }\n\n  AdminShowComponent.ɵfac = function AdminShowComponent_Factory(t) {\n    return new (t || AdminShowComponent)(i0.ɵɵdirectiveInject(i1.NgbModal), i0.ɵɵdirectiveInject(i2.RegisterService), i0.ɵɵdirectiveInject(i3.ChatService), i0.ɵɵdirectiveInject(i4.MatDialog), i0.ɵɵdirectiveInject(i5.HttpClient), i0.ɵɵdirectiveInject(i6.Router));\n  };\n\n  AdminShowComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AdminShowComponent,\n    selectors: [[\"app-admin-show\"]],\n    decls: 49,\n    vars: 5,\n    consts: [[\"rel\", \"stylesheet\", \"href\", \"https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.3/css/bootstrap.min.css\", \"integrity\", \"sha384-Zug+QiDoJOrZ5t4lssLdxGhVrurbmBWopoEl+M6BdEfwnCJZtKxi1KgxUyJq13dy\", \"crossorigin\", \"anonymous\"], [\"content\", \"\"], [1, \"table\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-lg-3\", \"col-md-6\", \"col-sm-4\", \"col-xs-8\", \"fixed_box\"], [1, \"example-card\", 3, \"hidden\"], [\"id\", \"cht_head\"], [\"id\", \"cht_para\"], [2, \"color\", \"black\", 3, \"click\"], [\"id\", \"mini\"], [\"id\", \"row usr_head\"], [1, \"col-lg-3\"], [\"src\", \"assets/img/lg1.png\"], [1, \"col-lg-8\", \"usr_nmtxt\"], [\"id\", \"usr_name\", 4, \"ngIf\"], [\"id\", \"usr_txt\"], [1, \"usr_line\"], [1, \"scrl\"], [\"enctype\", \"multipart/form-data\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [1, \"vrt_line\"], [1, \"form-group\"], [\"mat-button\", \"\", 3, \"click\"], [2, \"color\", \"black\", \"margin-top\", \"15px\"], [\"type\", \"text\", \"id\", \"adinmsg\", \"autocomplete\", \"off\", \"name\", \"adminmsg\", \"ngModel\", \"\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Text your message\", 1, \"form-control\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"id\", \"reg_btn\", \"type\", \"submit\"], [\"matSuffix\", \"\", 2, \"color\", \"black\"], [2, \"text-align\", \"center\"], [1, \"modal-header\"], [1, \"modal-title\"], [\"type\", \"button\", \"aria-label\", \"Close\", 1, \"close\", 3, \"click\"], [\"aria-hidden\", \"true\"], [1, \"modal-body\"], [1, \"row\"], [1, \"col-sm-12\"], [\"class\", \"row\", 4, \"ngFor\"], [\"type\", \"file\", \"name\", \"file\", \"multiple\", \"\", 3, \"change\"], [\"type\", \"email\", \"id\", \"adinmsg1\", \"autocomplete\", \"off\", \"name\", \"adminmsg1\", \"ngModel\", \"\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Text your message\", 1, \"form-control\"], [1, \"modal-footer\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"id\", \"reg_btn1\", \"type\", \"submit\"], [1, \"col-sm-4\"], [1, \"progress\"], [1, \"progress-bar\", \"bg-success\", 2, \"width\", \"20%\", \"color\", \"green\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\"], [4, \"ngIf\"], [\"matBadgeColor\", \"warn\", 1, \"btn\", \"btn-success\", 3, \"matBadge\", \"click\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [\"id\", \"usr_name\"], [\"color\", \"primary\", \"id\", \"usermsg\", \"selected\", \"\", 4, \"ngIf\"], [\"color\", \"primary\", \"id\", \"usermsg\", \"selected\", \"\", 3, \"click\", 4, \"ngIf\"], [\"id\", \"adminmsg_box\", 4, \"ngIf\"], [\"color\", \"primary\", \"id\", \"usermsg\", \"selected\", \"\"], [\"color\", \"primary\", \"id\", \"usermsg\", \"selected\", \"\", 3, \"click\"], [\"id\", \"adminmsg_box\"], [\"color\", \"accent\", \"id\", \"adminmsg\", \"selected\", \"\"], [\"color\", \"accent\", \"id\", \"adminmsg\", \"selected\", \"\", 3, \"click\", 4, \"ngIf\"], [\"color\", \"accent\", \"id\", \"adminmsg\", \"selected\", \"\", 3, \"click\"]],\n    template: function AdminShowComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r45 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelement(0, \"link\", 0);\n        i0.ɵɵtemplate(1, AdminShowComponent_ng_template_1_Template, 19, 0, \"ng-template\", null, 1, i0.ɵɵtemplateRefExtractor);\n        i0.ɵɵelementStart(3, \"table\", 2);\n        i0.ɵɵelementStart(4, \"thead\");\n        i0.ɵɵelementStart(5, \"tr\");\n        i0.ɵɵelementStart(6, \"th\");\n        i0.ɵɵtext(7, \"#\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"th\");\n        i0.ɵɵtext(9, \"Name\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(10, \"th\");\n        i0.ɵɵtext(11, \"Action\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"tbody\");\n        i0.ɵɵtemplate(13, AdminShowComponent_tr_13_Template, 7, 4, \"tr\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"div\", 4);\n        i0.ɵɵelementStart(15, \"mat-card\", 5);\n        i0.ɵɵelementStart(16, \"div\", 6);\n        i0.ɵɵelementStart(17, \"p\", 7);\n        i0.ɵɵtext(18, \"Chat\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(19, \"div\", 8);\n        i0.ɵɵlistener(\"click\", function AdminShowComponent_Template_div_click_19_listener() {\n          return ctx.admin_chat = !ctx.admin_chat;\n        });\n        i0.ɵɵelementStart(20, \"mat-icon\", 9);\n        i0.ɵɵtext(21, \"minimize \");\n        i0.ɵɵelement(22, \"p\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(23, \"div\", 10);\n        i0.ɵɵelementStart(24, \"div\", 11);\n        i0.ɵɵelement(25, \"img\", 12);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(26, \"div\", 13);\n        i0.ɵɵtemplate(27, AdminShowComponent_p_27_Template, 2, 1, \"p\", 14);\n        i0.ɵɵtemplate(28, AdminShowComponent_p_28_Template, 2, 0, \"p\", 14);\n        i0.ɵɵelementStart(29, \"p\", 15);\n        i0.ɵɵtext(30, \"Ask you Anything\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(31, \"div\", 16);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(32, \"mat-card-content\");\n        i0.ɵɵelementStart(33, \"div\", 17);\n        i0.ɵɵtemplate(34, AdminShowComponent_div_34_Template, 6, 4, \"div\", 3);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(35, \"mat-chip-list\");\n        i0.ɵɵelementStart(36, \"mat-card-actions\");\n        i0.ɵɵelementStart(37, \"form\", 18, 19);\n        i0.ɵɵlistener(\"ngSubmit\", function AdminShowComponent_Template_form_ngSubmit_37_listener() {\n          i0.ɵɵrestoreView(_r45);\n\n          const _r6 = i0.ɵɵreference(38);\n\n          return ctx.onSubmit(_r6);\n        });\n        i0.ɵɵelement(39, \"div\", 20);\n        i0.ɵɵelementStart(40, \"div\", 21);\n        i0.ɵɵelementStart(41, \"a\", 22);\n        i0.ɵɵlistener(\"click\", function AdminShowComponent_Template_a_click_41_listener() {\n          i0.ɵɵrestoreView(_r45);\n\n          const _r0 = i0.ɵɵreference(2);\n\n          return ctx.openVerticallyCentered(_r0);\n        });\n        i0.ɵɵelementStart(42, \"mat-icon\", 23);\n        i0.ɵɵtext(43, \"link\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(44, \"input\", 24);\n        i0.ɵɵelementStart(45, \"button\", 25);\n        i0.ɵɵelementStart(46, \"mat-icon\", 26);\n        i0.ɵɵtext(47, \"send \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(48, \"p\", 27);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        let tmp_4_0;\n        i0.ɵɵadvance(13);\n        i0.ɵɵproperty(\"ngForOf\", ctx.Reg);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"hidden\", ctx.admin_chat);\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngIf\", ctx.username != null);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.username == null);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngForOf\", ctx.user_msg1 == null ? null : (tmp_4_0 = ctx.user_msg1.slice()) == null ? null : tmp_4_0.reverse());\n      }\n    },\n    directives: [i7.NgForOf, i8.MatCard, i9.MatIcon, i7.NgIf, i8.MatCardContent, i10.MatChipList, i8.MatCardActions, i11.ɵNgNoValidate, i11.NgControlStatusGroup, i11.NgForm, i12.MatAnchor, i11.DefaultValueAccessor, i11.NgControlStatus, i11.NgModel, i12.MatButton, i13.MatSuffix, i14.MatBadge, i10.MatChip],\n    styles: [\"#adminmsg[_ngcontent-%COMP%]{float:right!important;max-width:90%}#adminmsg[_ngcontent-%COMP%], #usermsg[_ngcontent-%COMP%]{height:auto;width:auto}#usermsg[_ngcontent-%COMP%]{margin-top:4px!important}#adminmsg_box[_ngcontent-%COMP%]{width:100%!important;height:40px!important}.mat-chip[_ngcontent-%COMP%]   .mat-accent[_ngcontent-%COMP%], .mat-chip.mat-standard-chip.mat-chip-selected.mat-accent[_ngcontent-%COMP%]{float:right!important;right:0!important}.mat-chip[_ngcontent-%COMP%]   .mat-accent[_ngcontent-%COMP%]{color:#7fffd4}#reg_btn[_ngcontent-%COMP%]{float:right!important;height:50px;background:#0000;box-shadow:none;margin-top:-50px}.scrl[_ngcontent-%COMP%]{min-height:300px;max-height:300px;margin-bottom:10px;overflow:auto;-webkit-overflow-scrolling:touch;display:flex;flex-direction:column-reverse}[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px;height:12px}[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#7517cd;border-radius:10px}[_ngcontent-%COMP%]::-webkit-scrollbar-track{border:1px solid #e6e6e6;border-radius:10px;background-color:#ececec}.mat-card[_ngcontent-%COMP%]{background:#fff;color:#fff;padding:0!important}#cht_head[_ngcontent-%COMP%]{width:100%;height:30px;background-color:blue;border-top-left-radius:10px;border-top-right-radius:10px}#cht_para[_ngcontent-%COMP%]{text-align:center;color:#fff;padding-top:6px}.vrt_line[_ngcontent-%COMP%]{width:95%;margin-left:6px;height:1px;background-color:#afaeac}#adinmsg[_ngcontent-%COMP%]{width:160px;margin-left:45px;margin-top:-35px}#adinmsg[_ngcontent-%COMP%], #adinmsg1[_ngcontent-%COMP%]{border:none;box-shadow:none;height:50px}#adinmsg1[_ngcontent-%COMP%]{margin-top:5px}.fixed_box[_ngcontent-%COMP%]{position:fixed;bottom:0;right:0;margin-right:20px;margin-bottom:20px;max-width:300px}#usr_name[_ngcontent-%COMP%], #usr_txt[_ngcontent-%COMP%]{color:#000}.usr_nmtxt[_ngcontent-%COMP%]{margin-left:55px;margin-top:-53px}.usr_line[_ngcontent-%COMP%]{width:250px;height:1px;margin-left:10px;margin-bottom:5px;background-color:#b3b0b0}#mini[_ngcontent-%COMP%]{margin-top:-41px;float:right}\"]\n  });\n  return AdminShowComponent;\n})();\nconst uri = 'http://localhost:3000/chat/';\nexport let dialogBox = /*#__PURE__*/(() => {\n  class dialogBox {\n    constructor(http) {\n      this.http = http;\n      this.uploader = new FileUploader({\n        url: uri\n      });\n      this.attachList = [];\n\n      this.uploader.onCompleteItem = (item, response, status, headers) => {\n        this.attachList.push(JSON.parse(response)); // console.log('Attach file',JSON.parse(response))\n      };\n    }\n\n    selectMultiple(event) {\n      if (event.target.files.length > 0) {\n        this.multiple_img = event.target.files; // console.log(this.multiple_img)\n      }\n    } // Chat Submit\n\n\n    onSubmit(form) {\n      const formData = new FormData();\n\n      for (let img of this.multiple_img) {\n        formData.append('files', img);\n      }\n\n      formData.append('admin_token', this.Admin_TK);\n      formData.append('adminmsg', form.value.adminmsg);\n      formData.append('userid', this.user_id);\n      formData.append('useremail', this.user_email); // formData.append('usermsg',this.user_text)\n\n      formData.append('adminemail', this.str);\n      this.http.post('http://localhost:3000/chat/multiple', formData).subscribe(res => {// console.log('multiple',res)\n      });\n    }\n\n  }\n\n  dialogBox.ɵfac = function dialogBox_Factory(t) {\n    return new (t || dialogBox)(i0.ɵɵdirectiveInject(i5.HttpClient));\n  };\n\n  dialogBox.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: dialogBox,\n    selectors: [[\"dialog-elements-example-dialog\"]],\n    features: [i0.ɵɵProvidersFeature([MatButtonModule])],\n    decls: 19,\n    vars: 3,\n    consts: [[\"mat-dialog-title\", \"\"], [\"mat-dialog-content\", \"\", 2, \"color\", \"white\"], [\"mat-dialog-actions\", \"\"], [\"mat-button\", \"\", \"mat-dialog-close\", \"\"], [1, \"row\"], [1, \"col-sm-12\"], [\"class\", \"row\", 4, \"ngFor\", \"ngForOf\"], [\"enctype\", \"multipart/form-data\", 3, \"ngSubmit\"], [\"form\", \"ngForm\"], [\"type\", \"file\", \"name\", \"fileUpload\", \"multiple\", \"\", \"ng2FileSelected\", \"\", \"ng2FileDrop\", \"\", 3, \"uploader\"], [\"type\", \"email\", \"id\", \"adinmsg\", \"autocomplete\", \"off\", \"name\", \"adminmsg\", \"ngModel\", \"\", \"aria-describedby\", \"emailHelp\", \"placeholder\", \"Text your message\", 1, \"form-control\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"id\", \"reg_btn\", \"type\", \"submit\"], [\"matSuffix\", \"\", 2, \"color\", \"black\"], [1, \"col-sm-4\"], [1, \"progress\"], [1, \"progress-bar\", \"bg-success\", 2, \"width\", \"20%\", \"color\", \"green\"], [\"type\", \"button\", 1, \"btn\", \"btn-success\"], [\"type\", \"button\", 1, \"btn\", \"btn-danger\"]],\n    template: function dialogBox_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r3 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelementStart(0, \"h1\", 0);\n        i0.ɵɵtext(1, \"Dialog with elements\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(2, \"div\", 1);\n        i0.ɵɵtext(3, \"This dialog showcases the title, close, content and actions elements.\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(4, \"div\", 2);\n        i0.ɵɵelementStart(5, \"button\", 3);\n        i0.ɵɵtext(6, \"Close\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(7, \"div\", 4);\n        i0.ɵɵelementStart(8, \"div\", 5);\n        i0.ɵɵtemplate(9, dialogBox_div_9_Template, 11, 1, \"div\", 6);\n        i0.ɵɵelementStart(10, \"div\");\n        i0.ɵɵtext(11);\n        i0.ɵɵelementStart(12, \"form\", 7, 8);\n        i0.ɵɵlistener(\"ngSubmit\", function dialogBox_Template_form_ngSubmit_12_listener() {\n          i0.ɵɵrestoreView(_r3);\n\n          const _r1 = i0.ɵɵreference(13);\n\n          return ctx.onSubmit(_r1);\n        });\n        i0.ɵɵelement(14, \"input\", 9);\n        i0.ɵɵelement(15, \"input\", 10);\n        i0.ɵɵelementStart(16, \"button\", 11);\n        i0.ɵɵelementStart(17, \"mat-icon\", 12);\n        i0.ɵɵtext(18, \"send \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementEnd();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.attachList);\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate1(\" \", ctx.user_email, \" \");\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"uploader\", ctx.uploader);\n      }\n    },\n    directives: [i4.MatDialogTitle, i4.MatDialogContent, i4.MatDialogActions, i12.MatButton, i4.MatDialogClose, i7.NgForOf, i11.ɵNgNoValidate, i11.NgControlStatusGroup, i11.NgForm, i15.FileDropDirective, i11.DefaultValueAccessor, i11.NgControlStatus, i11.NgModel, i9.MatIcon, i13.MatSuffix],\n    encapsulation: 2\n  });\n  return dialogBox;\n})();","map":null,"metadata":{},"sourceType":"module"}